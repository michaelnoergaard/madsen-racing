---
interface Props {
  date: string;
  name: string;
  track: string;
  highlight?: boolean;
  result?: number;
  facebookEvent?: string;
}

const { date, name, track, highlight = false, result, facebookEvent } = Astro.props;
---

<div class:list={['race-card', { 'race-card-highlight': highlight }]}>
  <div class:list={['race-date', { 'race-date-highlight': highlight }]}>
    <div class="text-xs font-bold">{date}</div>
  </div>
  
  <div class="flex-1">
    <h4 class="font-bold">{name}</h4>
    <p class="text-mr-gray-400 text-sm flex items-center gap-1">
      <svg class="w-3 h-3" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M17.657 16.657L13.414 20.9a1.998 1.998 0 01-2.827 0l-4.244-4.243a8 8 0 1111.314 0z"/>
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 11a3 3 0 11-6 0 3 3 0 016 0z"/>
      </svg>
      {track}
    </p>
  </div>
  
  {result && (
    <div class="text-center px-3">
      <div class:list={[
        'text-2xl font-black',
        result === 1 ? 'text-mr-yellow' : result <= 3 ? 'text-mr-purple' : 'text-mr-gray-400'
      ]}>
        P{result}
      </div>
    </div>
  )}
  
  {highlight && (
    <span class="px-3 py-1 bg-mr-yellow text-mr-black text-xs font-bold rounded-full">
      NÃ†STE
    </span>
  )}
  
  {facebookEvent && (
    <a 
      href={facebookEvent}
      target="_blank"
      rel="noopener noreferrer"
      class="p-2 text-mr-gray-400 hover:text-mr-yellow transition-colors"
      aria-label="Se Facebook event"
    >
      <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M10 6H6a2 2 0 00-2 2v10a2 2 0 002 2h10a2 2 0 002-2v-4M14 4h6m0 0v6m0-6L10 14"/>
      </svg>
    </a>
  )}
</div>
