---
import OptimizedImage from './media/OptimizedImage.astro';

interface Props {
  name: string;
  tier: 'guld' | 'sølv' | 'bronze' | string;
  logo?: string;
  website?: string;
  width?: number;
  height?: number;
}

const { name, tier, logo, website, width = 200, height = 100 } = Astro.props;

const tierClass = {
  guld: 'sponsor-logo-guld',
  sølv: 'sponsor-logo-sølv',
  bronze: 'sponsor-logo-bronze',
}[tier] || 'sponsor-logo-bronze';
---

{website ? (
  <a
    href={website}
    target="_blank"
    rel="noopener noreferrer"
    class:list={['sponsor-logo', tierClass]}
    title={name}
  >
    {logo ? (
      <OptimizedImage
        src={logo}
        alt={`${name} logo`}
        width={width}
        height={height}
        quality={90}
        format="webp"
        class="max-w-full max-h-full object-contain p-2"
        fit="contain"
      />
    ) : (
      <span class="text-mr-gray-500 text-xs text-center px-2">{name}</span>
    )}
  </a>
) : (
  <div class:list={['sponsor-logo', tierClass]} title={name}>
    {logo ? (
      <OptimizedImage
        src={logo}
        alt={`${name} logo`}
        width={width}
        height={height}
        quality={90}
        format="webp"
        class="max-w-full max-h-full object-contain p-2"
        fit="contain"
      />
    ) : (
      <span class="text-mr-gray-500 text-xs text-center px-2">{name}</span>
    )}
  </div>
)}
